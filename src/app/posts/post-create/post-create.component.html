<!-- <textarea rows="6"  [value]="newPost" #textValue></textarea> -->
<mat-card>
    <mat-spinner *ngIf="isLoading"></mat-spinner>
<form (submit)="onSavePost()" [formGroup]="form" *ngIf="!isLoading">
    <mat-form-field>
        <input placeholder="Title" matInput rows="6"  formControlName="title">

        <mat-error *ngIf="form.get('title').invalid"> Invalid Title  </mat-error>
    
    </mat-form-field>

    <div>

        <button mat-button type="button" (click)="filePicker.click()">Pick File</button>
        <input type="file"  #filePicker (change)="onImagePicked($event)">

        <div class="imagePreview" *ngIf="imagePreview && form.get('image').valid">

            <img [src]="imagePreview" [alt]="form.value.title">
        </div>
    </div>
<mat-form-field>
<textarea placeholder="Content" matInput rows="6"  formControlName="content"></textarea>

<mat-error *ngIf="form.get('content').invalid"> Invalid Content </mat-error>

</mat-form-field>

<button mat-raised-button color="accent"  type="submit">Submit</button>

</form>

</mat-card>
<hr>



